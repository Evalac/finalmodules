{"mappings":"AAAA,SAASA,EAAaC,EAAMC,GAC1B,MAAMC,EAASF,EACZG,KACC,EAACC,OACCA,EAAMC,QACNA,EAAOC,YACPA,EAAWC,YACXA,EAAWC,MACXA,EAAKC,IACLA,EAAGC,WACHA,KACI,0FAEIA,0EAEOD,sBAAwBD,qE,kJAMhCF,sFAGAD,gDAIVM,OAEH,OAAOV,EAAYW,mBAAmB,YAAaV,E,CC3BrD,MAAMW,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,qBACpCE,cAAeH,SAASC,cAAc,iBAkBxC,MAAMG,EAAc,IAfpB,MACEC,aAAYC,SAAEA,EAAQC,OAAEA,GAAS,IAC/BC,QAAQC,IAAIH,GACZI,KAAKC,KAAOD,KAAKE,QAAQN,E,CAG3BM,QAAQN,GACN,MAAMO,EAAO,GAIb,OAHAA,EAAKC,OAASd,SAASC,cAAcK,GACrCO,EAAKE,MAAQF,EAAKC,OAAOb,cAAc,UACvCY,EAAKG,OAASH,EAAKC,OAAOb,cAAc,YACjCY,C,GAIyB,CAClCP,SAAU,8BAGZE,QAAQC,IAAIL,GAEZ,MAAMa,EAAiB,IC3BvB,MACEZ,cACEK,KAAKX,WAAa,GAClBW,KAAKQ,KAAO,C,CAGdC,gBACEX,QAAQC,IAAI,SAAUC,MACtB,MAAMU,EAAU,CACdC,QAAS,CACPC,cAbQ,qCAiBN5B,EAAM,uCAA4BgB,KAAKX,2CAA2CW,KAAKQ,OAE7F,OAAOK,MAAM7B,EAAK0B,GACfI,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MACPjB,KAAKkB,gBACED,I,CAIbC,gBACElB,KAAKQ,MAAQ,C,CAGfW,YACEnB,KAAKQ,KAAO,C,CAGVY,YACF,OAAOpB,KAAKX,U,CAGV+B,UAAMC,GACRrB,KAAKX,WAAagC,C,GDRtBjC,EAAKC,WAAWiC,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFjB,EAAea,MAAQG,EAAEE,cAAcC,SAASC,MAAMC,MACtDrB,EAAeY,YAEfZ,EAAeE,gBAAgBK,MAAKG,IAapC7B,EAAKK,cAAcoC,UAAY,GAX7BvD,EAAa2C,EAAU7B,EAAKK,cAAc,G,IAV9CL,EAAKI,YAAY8B,iBAAiB,SAclC,SAAoBC,GAClBhB,EACGE,gBACAK,MAAKG,GAAY3C,EAAa2C,EAAU7B,EAAKK,gB","sources":["src/js/newsApiHelpers/createMarkup.js","src/js/10-newsApi.js","src/js/newsApiHelpers/news-service.js"],"sourcesContent":["function createMarkup(data, containerEl) {\n  const markup = data\n    .map(\n      ({\n        author,\n        content,\n        description,\n        publishedAt,\n        title,\n        url,\n        urlToImage,\n      }) => `<article class=\"news-article\">\n        <header class=\"article-header\">\n    <img src=\"${urlToImage}\" alt=\"\">\n          <h2 class=\"article-title\">\n            <a href=\"${url}\" target=\"_blank\">${title}</a>\n          </h2>\n          <p class=\"article-author\">Автор:${author}</p>\n          <p class=\"article-date\">Опубліковано:${publishedAt}</p>\n        </header>\n        <section class=\"article-description\">\n          <p>${description}</p>\n        </section>\n        <section class=\"article-content\">\n          <p>${content}</p>\n        </section>\n      </article>`\n    )\n    .join();\n\n  return containerEl.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { createMarkup };\n","import { NewsApiService } from './newsApiHelpers/news-service';\nimport { createMarkup } from './newsApiHelpers/createMarkup';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  loadMoreBtn: document.querySelector('.load-more-button'),\n  containerNews: document.querySelector('.contentNews'),\n};\n\nclass LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    console.log(selector);\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spiner = refs.button.querySelector('.spinner');\n    return refs;\n  }\n}\n\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n});\n\nconsole.log(loadMoreBtn);\n\nconst newsApiServise = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiServise.query = e.currentTarget.elements.qwery.value;\n  newsApiServise.resetPage();\n\n  newsApiServise.fetchArticles().then(articles => {\n    clearArticalsContainer();\n    createMarkup(articles, refs.containerNews);\n  });\n}\n\nfunction onLoadMore(e) {\n  newsApiServise\n    .fetchArticles()\n    .then(articles => createMarkup(articles, refs.containerNews));\n}\n\nfunction clearArticalsContainer() {\n  refs.containerNews.innerHTML = '';\n}\n","const API_KEY = `59ea23f33abe45d5ae23b6a2a5f58a36`;\nconst BASE_URL = `https://newsapi.org/v2`;\n\nclass NewsApiService {\n  constructor() {\n    this.searchForm = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    console.log(`before`, this);\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n    };\n\n    const url = `${BASE_URL}/everything?q=${this.searchForm}&language=en&pageSize=10&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(responce => responce.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n        return articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchForm;\n  }\n\n  set query(NewQuery) {\n    this.searchForm = NewQuery;\n  }\n}\n\nexport { NewsApiService };\n"],"names":["$33b193f665303224$export$24783e9f3a24abe4","data","containerEl","markup","map","author","content","description","publishedAt","title","url","urlToImage","join","insertAdjacentHTML","$be2c6a12f8cc2c07$var$refs","searchForm","document","querySelector","loadMoreBtn","containerNews","$be2c6a12f8cc2c07$var$loadMoreBtn","constructor","selector","hidden","console","log","this","refs","getRefs","refs1","button","label","spiner","$be2c6a12f8cc2c07$var$newsApiServise","page","fetchArticles","options","headers","Authorization","fetch","then","responce","json","articles","incrementPage","resetPage","query","NewQuery","addEventListener","e","preventDefault","currentTarget","elements","qwery","value","innerHTML"],"version":3,"file":"10-newsApi.fab73c6e.js.map"}