{"mappings":"AAAA,SAASA,EAAaC,EAAMC,GAC1B,MAAMC,EAASF,EACZG,KACC,EAACC,OACCA,EAAMC,QACNA,EAAOC,YACPA,EAAWC,YACXA,EAAWC,MACXA,EAAKC,IACLA,KACI,uIAGWA,sBAAwBD,qE,kJAMhCF,sFAGAD,gDAIVK,OAEH,OAAOT,EAAYU,mBAAmB,YAAaT,E,CCzBrD,MAAMU,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,qBACpCE,cAAeH,SAASC,cAAc,iBAGlCG,EAAiB,ICTvB,MACEC,cACEC,KAAKP,WAAa,GAClBO,KAAKC,KAAO,C,CAGdC,gBACEC,QAAQC,IAAI,SAAUJ,MACtB,MAAMK,EAAU,CACdC,QAAS,CACPC,cAAe,qCAIblB,EAAM,uCAAuCW,KAAKP,2CAA2CO,KAAKC,OAExG,OAAOO,MAAMnB,EAAKgB,GACfI,MAAKC,GAAYA,EAASC,SAC1BF,MAAK7B,IACJoB,KAAKC,MAAQ,EACNrB,EAAKgC,W,CAIlBC,YACEb,KAAKC,KAAO,C,CAGVa,YACF,OAAOd,KAAKP,U,CAGVqB,UAAMC,GACRf,KAAKP,WAAasB,C,GDtBtBvB,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFpB,EAAegB,MAAQG,EAAEE,cAAcC,SAASC,MAAMC,MACtDxB,EAAee,YACff,EACGI,gBACAO,MAAKG,GAAYjC,EAAaiC,EAAUpB,EAAKK,gB,IATlDL,EAAKI,YAAYoB,iBAAiB,SAYlC,SAAoBC,GAClBnB,EACGI,gBACAO,MAAKG,GAAYjC,EAAaiC,EAAUpB,EAAKK,gB","sources":["src/js/newsApiHelpers/createMarkup.js","src/js/10-newsApi.js","src/js/newsApiHelpers/news-service.js"],"sourcesContent":["function createMarkup(data, containerEl) {\n  const markup = data\n    .map(\n      ({\n        author,\n        content,\n        description,\n        publishedAt,\n        title,\n        url,\n      }) => `<article class=\"news-article\">\n        <header class=\"article-header\">\n          <h2 class=\"article-title\">\n            <a href=\"${url}\" target=\"_blank\">${title}</a>\n          </h2>\n          <p class=\"article-author\">Автор:${author}</p>\n          <p class=\"article-date\">Опубліковано:${publishedAt}</p>\n        </header>\n        <section class=\"article-description\">\n          <p>${description}</p>\n        </section>\n        <section class=\"article-content\">\n          <p>${content}</p>\n        </section>\n      </article>`\n    )\n    .join();\n\n  return containerEl.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { createMarkup };\n","import { NewsApiService } from './newsApiHelpers/news-service';\nimport { createMarkup } from './newsApiHelpers/createMarkup';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  loadMoreBtn: document.querySelector('.load-more-button'),\n  containerNews: document.querySelector('.contentNews'),\n};\n\nconst newsApiServise = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiServise.query = e.currentTarget.elements.qwery.value;\n  newsApiServise.resetPage();\n  newsApiServise\n    .fetchArticles()\n    .then(articles => createMarkup(articles, refs.containerNews));\n}\n\nfunction onLoadMore(e) {\n  newsApiServise\n    .fetchArticles()\n    .then(articles => createMarkup(articles, refs.containerNews));\n}\n","class NewsApiService {\n  constructor() {\n    this.searchForm = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    console.log(`before`, this);\n    const options = {\n      headers: {\n        Authorization: `59ea23f33abe45d5ae23b6a2a5f58a36`,\n      },\n    };\n\n    const url = `https://newsapi.org/v2/everything?q=${this.searchForm}&language=en&pageSize=10&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(responce => responce.json())\n      .then(data => {\n        this.page += 1;\n        return data.articles;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchForm;\n  }\n\n  set query(NewQuery) {\n    this.searchForm = NewQuery;\n  }\n}\n\nexport { NewsApiService };\n"],"names":["$33b193f665303224$export$24783e9f3a24abe4","data","containerEl","markup","map","author","content","description","publishedAt","title","url","join","insertAdjacentHTML","$be2c6a12f8cc2c07$var$refs","searchForm","document","querySelector","loadMoreBtn","containerNews","$be2c6a12f8cc2c07$var$newsApiServise","constructor","this","page","fetchArticles","console","log","options","headers","Authorization","fetch","then","responce","json","articles","resetPage","query","NewQuery","addEventListener","e","preventDefault","currentTarget","elements","qwery","value"],"version":3,"file":"10-newsApi.7983bd6d.js.map"}