{"mappings":"AAAA,SAASA,EAAaC,EAAMC,GAC1B,MAAMC,EAASF,EACZG,KACC,EAACC,OACCA,EAAMC,QACNA,EAAOC,YACPA,EAAWC,YACXA,EAAWC,MACXA,EAAKC,IACLA,EAAGC,WACHA,KACI,0FAEIA,0EAEOD,sBAAwBD,qE,kJAMhCF,sFAGAD,gDAIVM,KAAK,IAER,OAAOV,EAAYW,mBAAmB,YAAaV,E,CC1BrD,MAAMW,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,+BACpCE,cAAeH,SAASC,cAAc,iBAGlCG,EAAc,ICVpB,MACEC,aAAYC,SAAEA,EAAQC,OAAEA,GAAS,IAC/BC,QAAQC,IAAIH,GACZI,KAAKC,KAAOD,KAAKE,QAAQN,GACzBC,GAAUG,KAAKG,M,CAGjBD,QAAQN,GACN,MAAMK,EAAO,GAIb,OAHAA,EAAKG,OAASd,SAASC,cAAcK,GACrCK,EAAKI,MAAQJ,EAAKG,OAAOb,cAAc,UACvCU,EAAKK,OAASL,EAAKG,OAAOb,cAAc,YACjCU,C,CAGTM,SACEP,KAAKC,KAAKG,OAAOI,UAAW,EAC5BR,KAAKC,KAAKI,MAAMI,YAAc,cACpBT,KAALC,KAAKK,OAAOI,UAAUC,IAAI,Y,CAGjCH,WACER,KAAKC,KAAKG,OAAOI,UAAW,EAC5BR,KAAKC,KAAKI,MAAMI,YAAc,cAC9BT,KAAKC,KAAKK,OAAOI,UAAUE,OAAO,Y,CAGpCC,OACEb,KAAKC,KAAKK,OAAOI,UAAUE,OAAO,Y,CAEpCT,OACEH,KAAKC,KAAKK,OAAOI,UAAUC,IAAI,Y,GDrBC,CAClCf,SAAU,8BAGNkB,EAAiB,IEXvB,MACEnB,cACEK,KAAKX,WAAa,GAClBW,KAAKe,KAAO,C,CAGdC,gBACElB,QAAQC,IAAI,SAAUC,MACtB,MAAMiB,EAAU,CACdC,QAAS,CACPC,cAbQ,qCAiBNnC,EAAM,uCAA4BgB,KAAKX,0CAA0CW,KAAKe,OAE5F,OAAOK,MAAMpC,EAAKiC,GACfI,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MACPxB,KAAKyB,gBACED,I,CAIbC,gBACEzB,KAAKe,MAAQ,C,CAGfW,YACE1B,KAAKe,KAAO,C,CAGVY,YACF,OAAO3B,KAAKX,U,CAGVsC,UAAMC,GACR5B,KAAKX,WAAauC,C,GFxBtBxC,EAAKC,WAAWwC,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFjB,EAAea,MAAQG,EAAEE,cAAcC,SAASC,MAAMC,MACtDrB,EAAeY,YACfhC,EAAYc,WACZd,EAAYmB,OACZC,EAAeE,gBAAgBK,MAAKG,IAmBpCpC,EAAKK,cAAc2C,UAAY,GAhB7B9D,EAAakD,EAAUpC,EAAKK,eAC5BC,EAAYa,SACZb,EAAYS,MAAM,G,IAdtBf,EAAKI,YAAYqC,iBAAiB,SAkBlC,SAAoBC,GAClBpC,EAAYc,WACZd,EAAYmB,OACZC,EAAeE,gBAAgBK,MAAKG,IAClClD,EAAakD,EAAUpC,EAAKK,eAAgBC,EAAYa,SACxDb,EAAYS,MAAM,G","sources":["src/js/newsApiHelpers/createMarkup.js","src/js/10-newsApi.js","src/js/newsApiHelpers/loadMoreBtn.js","src/js/newsApiHelpers/news-service.js"],"sourcesContent":["function createMarkup(data, containerEl) {\n  const markup = data\n    .map(\n      ({\n        author,\n        content,\n        description,\n        publishedAt,\n        title,\n        url,\n        urlToImage,\n      }) => `<article class=\"news-article\">\n        <header class=\"article-header\">\n    <img src=\"${urlToImage}\" alt=\"\">\n          <h2 class=\"article-title\">\n            <a href=\"${url}\" target=\"_blank\">${title}</a>\n          </h2>\n          <p class=\"article-author\">Автор:${author}</p>\n          <p class=\"article-date\">Опубліковано:${publishedAt}</p>\n        </header>\n        <section class=\"article-description\">\n          <p>${description}</p>\n        </section>\n        <section class=\"article-content\">\n          <p>${content}</p>\n        </section>\n      </article>`\n    )\n    .join('');\n\n  return containerEl.insertAdjacentHTML('beforeend', markup);\n}\n\nexport { createMarkup };\n","import { NewsApiService } from './newsApiHelpers/news-service';\nimport { createMarkup } from './newsApiHelpers/createMarkup';\nimport { LoadMoreBtn } from './newsApiHelpers/loadMoreBtn';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  loadMoreBtn: document.querySelector('  [data-action=\"load-more\"]'),\n  containerNews: document.querySelector('.contentNews'),\n};\n\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n});\n\nconst newsApiServise = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiServise.query = e.currentTarget.elements.qwery.value;\n  newsApiServise.resetPage();\n  loadMoreBtn.disabled();\n  loadMoreBtn.show();\n  newsApiServise.fetchArticles().then(articles => {\n    clearArticalsContainer();\n\n    createMarkup(articles, refs.containerNews);\n    loadMoreBtn.enable();\n    loadMoreBtn.hide();\n  });\n}\n\nfunction onLoadMore(e) {\n  loadMoreBtn.disabled();\n  loadMoreBtn.show();\n  newsApiServise.fetchArticles().then(articles => {\n    createMarkup(articles, refs.containerNews), loadMoreBtn.enable();\n    loadMoreBtn.hide();\n  });\n}\n\nfunction clearArticalsContainer() {\n  refs.containerNews.innerHTML = '';\n}\n","class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    console.log(selector);\n    this.refs = this.getRefs(selector);\n    hidden && this.hide();\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spiner = refs.button.querySelector('.spinner');\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Показати ще';\n    this.refs.spiner.classList.add('is-hidden');\n  }\n\n  disabled() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Завантажуєм';\n    this.refs.spiner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.spiner.classList.remove('is-hidden');\n  }\n  hide() {\n    this.refs.spiner.classList.add('is-hidden');\n  }\n}\nexport { LoadMoreBtn };\n","const API_KEY = `59ea23f33abe45d5ae23b6a2a5f58a36`;\nconst BASE_URL = `https://newsapi.org/v2`;\n\nclass NewsApiService {\n  constructor() {\n    this.searchForm = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    console.log(`before`, this);\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n    };\n\n    const url = `${BASE_URL}/everything?q=${this.searchForm}&language=en&pageSize=4&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(responce => responce.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n        return articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchForm;\n  }\n\n  set query(NewQuery) {\n    this.searchForm = NewQuery;\n  }\n}\n\nexport { NewsApiService };\n"],"names":["$33b193f665303224$export$24783e9f3a24abe4","data","containerEl","markup","map","author","content","description","publishedAt","title","url","urlToImage","join","insertAdjacentHTML","$be2c6a12f8cc2c07$var$refs","searchForm","document","querySelector","loadMoreBtn","containerNews","$be2c6a12f8cc2c07$var$loadMoreBtn","constructor","selector","hidden","console","log","this","refs","getRefs","hide","button","label","spiner","enable","disabled","textContent","classList","add","remove","show","$be2c6a12f8cc2c07$var$newsApiServise","page","fetchArticles","options","headers","Authorization","fetch","then","responce","json","articles","incrementPage","resetPage","query","NewQuery","addEventListener","e","preventDefault","currentTarget","elements","qwery","value","innerHTML"],"version":3,"file":"10-newsApi.0e3b069b.js.map"}