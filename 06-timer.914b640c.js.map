{"mappings":"AAAA,SAAAA,gBAAAC,EAAAC,G,wWAAA,IAAMC,KAAO,CACXC,SAAUC,SAASC,cAAc,6BACjCC,QAASF,SAASC,cAAc,4BAChCE,QAASH,SAASC,cAAc,WAGlCG,MA+CG,W,sBA/CGA,EACQC,G,IAAAC,EAAAD,EAAEC,O,wBACZC,KAAKC,UAAY,KACjBD,KAAKE,UAAW,EAChBF,KAAKD,OAASA,EACdC,KAAKG,M,yBAEPC,IAAA,O,MAAA,WACE,IAAMC,EAAOL,KAAKM,kBAAkB,GACpCN,KAAKD,OAAOM,E,IAEdD,IAAA,Q,MAAA,W,WACE,IAAIJ,KAAKE,SAAT,CAGAF,KAAKE,UAAW,EAChB,IAAMK,EAAYC,KAAKC,MACvBT,KAAKC,UAAYS,aAAY,WAC3B,IACMC,EADcH,KAAKC,MACYF,EAC/BF,EAAOO,EAAKN,kBAAkBK,GACpCE,QAAQC,IAAIT,GAEZO,EAAKb,OAAOM,E,GACX,IAXD,C,IAcJD,IAAA,O,MAAA,WACEW,cAAcf,KAAKC,WACnBD,KAAKE,UAAW,EAChB,IAAMG,EAAOL,KAAKM,kBAAkB,GACpCN,KAAKD,OAAOM,E,IAEdD,IAAA,M,MAAA,SAAIY,GAGF,OAAOC,OAAOD,GAAOE,SAAS,EAAG,I,IAEnCd,IAAA,oB,MAAA,SAAkBC,GAKhB,MAAO,CAAEc,KAJInB,KAAKoB,IAAIC,KAAKC,MAAMjB,EAAO,IAAO,GAAK,GAAK,KAI1CkB,MAHDvB,KAAKoB,IAAIC,KAAKC,MAAMjB,EAAO,IAAO,GAAK,IAAM,IAGrCmB,QAFNxB,KAAKoB,IAAIC,KAAKC,MAAMjB,EAAO,IAAO,IAAM,IAEzBoB,QADfzB,KAAKoB,IAAIC,KAAKC,MAAMjB,EAAO,KAAQ,I,OAKpD,GAAGqB,MAAQ,IAAI7B,MAAM,CACtBE,OAAQ4B,kBAMV,SAASA,gBAAgB7B,G,IAAEqB,EAAFrB,EAAEqB,KAAMI,EAARzB,EAAQyB,MAAOC,EAAf1B,EAAe0B,QAASC,EAAxB3B,EAAwB2B,QAC/ClC,KAAKK,QAAQgC,YAAc,GAAWC,OAARV,EAAK,KAAYU,OAATN,EAAM,KAAcM,OAAXL,EAAQ,KAAWK,OAARJ,E,CAJ5DlC,KAAKC,SAASsC,iBAAiB,QAASJ,MAAMK,MAAMC,KAAKN,QACzDnC,KAAKI,QAAQmC,iBAAiB,QAASJ,MAAMO,KAAKD,KAAKN","sources":["src/js/06-timer.js"],"sourcesContent":["const refs = {\n  startBtn: document.querySelector('button[data-action-start]'),\n  stopBtn: document.querySelector('button[data-action-stop]'),\n  timerEl: document.querySelector('.timer'),\n};\n\nclass Timer {\n  constructor({ onTick }) {\n    this.inervalID = null;\n    this.isActive = false;\n    this.onTick = onTick;\n    this.init();\n  }\n  init() {\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n  start() {\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    const startTime = Date.now();\n    this.inervalID = setInterval(() => {\n      const currentTime = Date.now();\n      const timeDifference = currentTime - startTime;\n      const time = this.getTimeComponents(timeDifference);\n      console.log(time);\n\n      this.onTick(time);\n    }, 1000);\n  }\n\n  stop() {\n    clearInterval(this.inervalID);\n    this.isActive = false;\n    const time = this.getTimeComponents(0);\n    this.onTick(time);\n  }\n  pad(value) {\n    // функція яка додає 0 перед першим числом якшо вже два числа 0 не додається\n\n    return String(value).padStart(2, '0');\n  }\n  getTimeComponents(time) {\n    const days = this.pad(Math.floor(time / 1000 / 60 / 60 / 24));\n    const hours = this.pad(Math.floor(time / 1000 / 60 / 60) % 24);\n    const minutes = this.pad(Math.floor(time / 1000 / 60) % 60);\n    const seconds = this.pad(Math.floor(time / 1000) % 60);\n    return { days, hours, minutes, seconds };\n  }\n}\n\nconst timer = new Timer({\n  onTick: updateClockFace,\n});\n\nrefs.startBtn.addEventListener('click', timer.start.bind(timer));\nrefs.stopBtn.addEventListener('click', timer.stop.bind(timer)); // bind для того щоб прив`язати до таймера бо він через this буде ссилатись на дом елемент а не на метод класу\n\nfunction updateClockFace({ days, hours, minutes, seconds }) {\n  refs.timerEl.textContent = `${days}:${hours}:${minutes}:${seconds}`;\n}\n"],"names":["_classCallCheck","instance","Constructor","refs","startBtn","document","querySelector","stopBtn","timerEl","Timer","param","onTick","this","inervalID","isActive","init","key","time","getTimeComponents","startTime","Date","now","setInterval","timeDifference","_this","console","log","clearInterval","value","String","padStart","days","pad","Math","floor","hours","minutes","seconds","timer","updateClockFace","textContent","concat","addEventListener","start","bind","stop"],"version":3,"file":"06-timer.914b640c.js.map"}