{"mappings":"AAEA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,sBAGhCE,EAAiB,ICPvB,MACEC,cACEC,KAAKN,WAAa,GAClBM,KAAKC,KAAO,C,CAGdC,gBACEC,QAAQC,IAAI,SAAUJ,MACtB,MAAMK,EAAU,CACdC,QAAS,CACPC,cAAe,qCAIbC,EAAM,uCAAuCR,KAAKN,2CAA2CM,KAAKC,OAExGQ,MAAMD,EAAKH,GACRK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJV,QAAQC,IAAIS,GACZb,KAAKC,MAAQ,CAAC,G,CAKpBa,YACEd,KAAKC,KAAO,C,CAGVc,YACF,OAAOf,KAAKN,U,CAGVqB,UAAMC,GACRhB,KAAKN,WAAasB,C,GDzBtBvB,EAAKC,WAAWuB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFrB,EAAeiB,MAAQG,EAAEE,cAAcC,SAASC,MAAMC,MACtDzB,EAAegB,YACfhB,EAAeI,e,IAPjBT,EAAKI,YAAYoB,iBAAiB,SAUlC,SAAoBC,GAClBpB,EAAeI,e","sources":["src/js/10-newsApi.js","src/js/newsApiHelpers/news-service.js"],"sourcesContent":["import { NewsApiService } from './newsApiHelpers/news-service';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  loadMoreBtn: document.querySelector('.load-more-button'),\n};\n\nconst newsApiServise = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiServise.query = e.currentTarget.elements.qwery.value;\n  newsApiServise.resetPage();\n  newsApiServise.fetchArticles();\n}\n\nfunction onLoadMore(e) {\n  newsApiServise.fetchArticles();\n}\n","class NewsApiService {\n  constructor() {\n    this.searchForm = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    console.log(`before`, this);\n    const options = {\n      headers: {\n        Authorization: `59ea23f33abe45d5ae23b6a2a5f58a36`,\n      },\n    };\n\n    const url = `https://newsapi.org/v2/everything?q=${this.searchForm}&language=en&pageSize=10&page=${this.page}`;\n\n    fetch(url, options)\n      .then(responce => responce.json())\n      .then(data => {\n        console.log(data);\n        this.page += 1;\n        // console.log(`after`, this);\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchForm;\n  }\n\n  set query(NewQuery) {\n    this.searchForm = NewQuery;\n  }\n}\n\nexport { NewsApiService };\n"],"names":["$be2c6a12f8cc2c07$var$refs","searchForm","document","querySelector","loadMoreBtn","$be2c6a12f8cc2c07$var$newsApiServise","constructor","this","page","fetchArticles","console","log","options","headers","Authorization","url","fetch","then","responce","json","data","resetPage","query","NewQuery","addEventListener","e","preventDefault","currentTarget","elements","qwery","value"],"version":3,"file":"10-newsApi.5aa4204f.js.map"}